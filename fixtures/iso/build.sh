#!/bin/bash
TMPD=$(mktemp -d /tmp/forester-test-XXXXX)
trap "rm -rf $TMPD" EXIT

pushd "$TMPD"
mkdir -p ./EFI/BOOT/fonts ./boot/grub2/i386-pc ./images/pxeboot
touch ./EFI/BOOT/fonts
touch ./EFI/BOOT/fonts/unicode.pf2
touch ./EFI/BOOT/BOOT.conf
touch ./EFI/BOOT/BOOTIA32.EFI
touch ./EFI/BOOT/BOOTX64.EFI
touch ./EFI/BOOT/grub.cfg
touch ./EFI/BOOT/grubia32.efi
touch ./EFI/BOOT/grubx64.efi
touch ./EFI/BOOT/mmia32.efi
touch ./EFI/BOOT/mmx64.efi
touch ./boot/grub2/i386-pc/fdt.lst
touch ./boot/grub2/i386-pc/acpi.mod
touch ./boot/grub2/i386-pc/adler32.mod
touch ./boot/grub2/i386-pc/affs.mod
touch ./boot/grub2/i386-pc/afs.mod
touch ./boot/grub2/i386-pc/afsplitter.mod
touch ./boot/grub2/i386-pc/ahci.mod
touch ./boot/grub2/i386-pc/all_video.mod
touch ./boot/grub2/i386-pc/aout.mod
touch ./boot/grub2/i386-pc/appended_signature_test.mod
touch ./boot/grub2/i386-pc/appendedsig.mod
touch ./boot/grub2/i386-pc/archelp.mod
touch ./boot/grub2/i386-pc/asn1.mod
touch ./boot/grub2/i386-pc/ata.mod
touch ./boot/grub2/i386-pc/at_keyboard.mod
touch ./boot/grub2/i386-pc/backtrace.mod
touch ./boot/grub2/i386-pc/bfs.mod
touch ./boot/grub2/i386-pc/biosdisk.mod
touch ./boot/grub2/i386-pc/bitmap.mod
touch ./boot/grub2/i386-pc/bitmap_scale.mod
touch ./boot/grub2/i386-pc/blocklist.mod
touch ./boot/grub2/i386-pc/blscfg.mod
touch ./boot/grub2/i386-pc/boot.img
touch ./boot/grub2/i386-pc/boot.mod
touch ./boot/grub2/i386-pc/boot_hybrid.img
touch ./boot/grub2/i386-pc/bsd.mod
touch ./boot/grub2/i386-pc/bswap_test.mod
touch ./boot/grub2/i386-pc/btrfs.mod
touch ./boot/grub2/i386-pc/bufio.mod
touch ./boot/grub2/i386-pc/cat.mod
touch ./boot/grub2/i386-pc/cbfs.mod
touch ./boot/grub2/i386-pc/cbls.mod
touch ./boot/grub2/i386-pc/cbmemc.mod
touch ./boot/grub2/i386-pc/cbtable.mod
touch ./boot/grub2/i386-pc/cbtime.mod
touch ./boot/grub2/i386-pc/cdboot.img
touch ./boot/grub2/i386-pc/chain.mod
touch ./boot/grub2/i386-pc/cmdline_cat_test.mod
touch ./boot/grub2/i386-pc/cmosdump.mod
touch ./boot/grub2/i386-pc/cmostest.mod
touch ./boot/grub2/i386-pc/cmp.mod
touch ./boot/grub2/i386-pc/cmp_test.mod
touch ./boot/grub2/i386-pc/command.lst
touch ./boot/grub2/i386-pc/config.h
touch ./boot/grub2/i386-pc/configfile.mod
touch ./boot/grub2/i386-pc/core.0
touch ./boot/grub2/i386-pc/cpio.mod
touch ./boot/grub2/i386-pc/cpio_be.mod
touch ./boot/grub2/i386-pc/cpuid.mod
touch ./boot/grub2/i386-pc/crc64.mod
touch ./boot/grub2/i386-pc/crypto.lst
touch ./boot/grub2/i386-pc/crypto.mod
touch ./boot/grub2/i386-pc/cryptodisk.mod
touch ./boot/grub2/i386-pc/cs5536.mod
touch ./boot/grub2/i386-pc/ctz_test.mod
touch ./boot/grub2/i386-pc/date.mod
touch ./boot/grub2/i386-pc/datehook.mod
touch ./boot/grub2/i386-pc/datetime.mod
touch ./boot/grub2/i386-pc/disk.mod
touch ./boot/grub2/i386-pc/diskboot.img
touch ./boot/grub2/i386-pc/diskfilter.mod
touch ./boot/grub2/i386-pc/div.mod
touch ./boot/grub2/i386-pc/div_test.mod
touch ./boot/grub2/i386-pc/dm_nv.mod
touch ./boot/grub2/i386-pc/drivemap.mod
touch ./boot/grub2/i386-pc/echo.mod
touch ./boot/grub2/i386-pc/efiemu.mod
touch ./boot/grub2/i386-pc/ehci.mod
touch ./boot/grub2/i386-pc/elf.mod
touch ./boot/grub2/i386-pc/eval.mod
touch ./boot/grub2/i386-pc/exfat.mod
touch ./boot/grub2/i386-pc/exfctest.mod
touch ./boot/grub2/i386-pc/ext2.mod
touch ./boot/grub2/i386-pc/extcmd.mod
touch ./boot/grub2/i386-pc/f2fs.mod
touch ./boot/grub2/i386-pc/fat.mod
touch ./boot/grub2/i386-pc/file.mod
touch ./boot/grub2/i386-pc/font.mod
touch ./boot/grub2/i386-pc/freedos.mod
touch ./boot/grub2/i386-pc/fs.lst
touch ./boot/grub2/i386-pc/fshelp.mod
touch ./boot/grub2/i386-pc/functional_test.mod
touch ./boot/grub2/i386-pc/gcry_arcfour.mod
touch ./boot/grub2/i386-pc/gcry_blowfish.mod
touch ./boot/grub2/i386-pc/gcry_camellia.mod
touch ./boot/grub2/i386-pc/gcry_cast5.mod
touch ./boot/grub2/i386-pc/gcry_crc.mod
touch ./boot/grub2/i386-pc/gcry_des.mod
touch ./boot/grub2/i386-pc/gcry_dsa.mod
touch ./boot/grub2/i386-pc/gcry_idea.mod
touch ./boot/grub2/i386-pc/gcry_md4.mod
touch ./boot/grub2/i386-pc/gcry_md5.mod
touch ./boot/grub2/i386-pc/gcry_rfc2268.mod
touch ./boot/grub2/i386-pc/gcry_rijndael.mod
touch ./boot/grub2/i386-pc/gcry_rmd160.mod
touch ./boot/grub2/i386-pc/gcry_rsa.mod
touch ./boot/grub2/i386-pc/gcry_seed.mod
touch ./boot/grub2/i386-pc/gcry_serpent.mod
touch ./boot/grub2/i386-pc/gcry_sha1.mod
touch ./boot/grub2/i386-pc/gcry_sha256.mod
touch ./boot/grub2/i386-pc/gcry_sha512.mod
touch ./boot/grub2/i386-pc/gcry_tiger.mod
touch ./boot/grub2/i386-pc/gcry_twofish.mod
touch ./boot/grub2/i386-pc/gcry_whirlpool.mod
touch ./boot/grub2/i386-pc/gdb.mod
touch ./boot/grub2/i386-pc/gdb_grub
touch ./boot/grub2/i386-pc/geli.mod
touch ./boot/grub2/i386-pc/gettext.mod
touch ./boot/grub2/i386-pc/gfxmenu.mod
touch ./boot/grub2/i386-pc/gfxterm.mod
touch ./boot/grub2/i386-pc/gfxterm_background.mod
touch ./boot/grub2/i386-pc/gfxterm_menu.mod
touch ./boot/grub2/i386-pc/gmodule.pl
touch ./boot/grub2/i386-pc/gptsync.mod
touch ./boot/grub2/i386-pc/gzio.mod
touch ./boot/grub2/i386-pc/halt.mod
touch ./boot/grub2/i386-pc/hashsum.mod
touch ./boot/grub2/i386-pc/hdparm.mod
touch ./boot/grub2/i386-pc/hello.mod
touch ./boot/grub2/i386-pc/help.mod
touch ./boot/grub2/i386-pc/hexdump.mod
touch ./boot/grub2/i386-pc/hfs.mod
touch ./boot/grub2/i386-pc/hfsplus.mod
touch ./boot/grub2/i386-pc/hfspluscomp.mod
touch ./boot/grub2/i386-pc/http.mod
touch ./boot/grub2/i386-pc/increment.mod
touch ./boot/grub2/i386-pc/iorw.mod
touch ./boot/grub2/i386-pc/iso9660.mod
touch ./boot/grub2/i386-pc/jfs.mod
touch ./boot/grub2/i386-pc/jpeg.mod
touch ./boot/grub2/i386-pc/json.mod
touch ./boot/grub2/i386-pc/kernel.exec
touch ./boot/grub2/i386-pc/kernel.img
touch ./boot/grub2/i386-pc/keylayouts.mod
touch ./boot/grub2/i386-pc/keystatus.mod
touch ./boot/grub2/i386-pc/ldm.mod
touch ./boot/grub2/i386-pc/legacycfg.mod
touch ./boot/grub2/i386-pc/legacy_password_test.mod
touch ./boot/grub2/i386-pc/linux.mod
touch ./boot/grub2/i386-pc/lnxboot.image
touch ./boot/grub2/i386-pc/lnxboot.img
touch ./boot/grub2/i386-pc/loadenv.mod
touch ./boot/grub2/i386-pc/loopback.mod
touch ./boot/grub2/i386-pc/ls.mod
touch ./boot/grub2/i386-pc/lsacpi.mod
touch ./boot/grub2/i386-pc/lsapm.mod
touch ./boot/grub2/i386-pc/lsmmap.mod
touch ./boot/grub2/i386-pc/lspci.mod
touch ./boot/grub2/i386-pc/luks.mod
touch ./boot/grub2/i386-pc/luks2.mod
touch ./boot/grub2/i386-pc/lvm.mod
touch ./boot/grub2/i386-pc/lzma_decompress.img
touch ./boot/grub2/i386-pc/lzopio.mod
touch ./boot/grub2/i386-pc/macbless.mod
touch ./boot/grub2/i386-pc/macho.mod
touch ./boot/grub2/i386-pc/mda_text.mod
touch ./boot/grub2/i386-pc/mdraid09.mod
touch ./boot/grub2/i386-pc/mdraid09_be.mod
touch ./boot/grub2/i386-pc/mdraid1x.mod
touch ./boot/grub2/i386-pc/memdisk.mod
touch ./boot/grub2/i386-pc/memrw.mod
touch ./boot/grub2/i386-pc/minicmd.mod
touch ./boot/grub2/i386-pc/minix.mod
touch ./boot/grub2/i386-pc/minix2.mod
touch ./boot/grub2/i386-pc/minix2_be.mod
touch ./boot/grub2/i386-pc/minix3.mod
touch ./boot/grub2/i386-pc/minix3_be.mod
touch ./boot/grub2/i386-pc/minix_be.mod
touch ./boot/grub2/i386-pc/mmap.mod
touch ./boot/grub2/i386-pc/moddep.lst
touch ./boot/grub2/i386-pc/modinfo.sh
touch ./boot/grub2/i386-pc/morse.mod
touch ./boot/grub2/i386-pc/mpi.mod
touch ./boot/grub2/i386-pc/msdospart.mod
touch ./boot/grub2/i386-pc/multiboot.mod
touch ./boot/grub2/i386-pc/multiboot2.mod
touch ./boot/grub2/i386-pc/mul_test.mod
touch ./boot/grub2/i386-pc/nativedisk.mod
touch ./boot/grub2/i386-pc/net.mod
touch ./boot/grub2/i386-pc/newc.mod
touch ./boot/grub2/i386-pc/nilfs2.mod
touch ./boot/grub2/i386-pc/normal.mod
touch ./boot/grub2/i386-pc/ntfs.mod
touch ./boot/grub2/i386-pc/ntfscomp.mod
touch ./boot/grub2/i386-pc/ntldr.mod
touch ./boot/grub2/i386-pc/odc.mod
touch ./boot/grub2/i386-pc/offsetio.mod
touch ./boot/grub2/i386-pc/ohci.mod
touch ./boot/grub2/i386-pc/partmap.lst
touch ./boot/grub2/i386-pc/parttool.lst
touch ./boot/grub2/i386-pc/parttool.mod
touch ./boot/grub2/i386-pc/part_acorn.mod
touch ./boot/grub2/i386-pc/part_amiga.mod
touch ./boot/grub2/i386-pc/part_apple.mod
touch ./boot/grub2/i386-pc/part_bsd.mod
touch ./boot/grub2/i386-pc/part_dfly.mod
touch ./boot/grub2/i386-pc/part_dvh.mod
touch ./boot/grub2/i386-pc/part_gpt.mod
touch ./boot/grub2/i386-pc/part_msdos.mod
touch ./boot/grub2/i386-pc/part_plan.mod
touch ./boot/grub2/i386-pc/part_sun.mod
touch ./boot/grub2/i386-pc/part_sunpc.mod
touch ./boot/grub2/i386-pc/password.mod
touch ./boot/grub2/i386-pc/password_pbkdf2.mod
touch ./boot/grub2/i386-pc/pata.mod
touch ./boot/grub2/i386-pc/pbkdf2.mod
touch ./boot/grub2/i386-pc/pbkdf2_test.mod
touch ./boot/grub2/i386-pc/pci.mod
touch ./boot/grub2/i386-pc/pcidump.mod
touch ./boot/grub2/i386-pc/pgp.mod
touch ./boot/grub2/i386-pc/pkcs1_v15.mod
touch ./boot/grub2/i386-pc/plan9.mod
touch ./boot/grub2/i386-pc/play.mod
touch ./boot/grub2/i386-pc/png.mod
touch ./boot/grub2/i386-pc/priority_queue.mod
touch ./boot/grub2/i386-pc/probe.mod
touch ./boot/grub2/i386-pc/procfs.mod
touch ./boot/grub2/i386-pc/progress.mod
touch ./boot/grub2/i386-pc/pxe.mod
touch ./boot/grub2/i386-pc/pxeboot.img
touch ./boot/grub2/i386-pc/pxechain.mod
touch ./boot/grub2/i386-pc/raid5rec.mod
touch ./boot/grub2/i386-pc/raid6rec.mod
touch ./boot/grub2/i386-pc/random.mod
touch ./boot/grub2/i386-pc/rdmsr.mod
touch ./boot/grub2/i386-pc/read.mod
touch ./boot/grub2/i386-pc/reboot.mod
touch ./boot/grub2/i386-pc/regexp.mod
touch ./boot/grub2/i386-pc/reiserfs.mod
touch ./boot/grub2/i386-pc/relocator.mod
touch ./boot/grub2/i386-pc/romfs.mod
touch ./boot/grub2/i386-pc/scsi.mod
touch ./boot/grub2/i386-pc/search.mod
touch ./boot/grub2/i386-pc/search_fs_file.mod
touch ./boot/grub2/i386-pc/search_fs_uuid.mod
touch ./boot/grub2/i386-pc/search_label.mod
touch ./boot/grub2/i386-pc/sendkey.mod
touch ./boot/grub2/i386-pc/serial.mod
touch ./boot/grub2/i386-pc/setjmp.mod
touch ./boot/grub2/i386-pc/setjmp_test.mod
touch ./boot/grub2/i386-pc/setpci.mod
touch ./boot/grub2/i386-pc/sfs.mod
touch ./boot/grub2/i386-pc/shift_test.mod
touch ./boot/grub2/i386-pc/signature_test.mod
touch ./boot/grub2/i386-pc/sleep.mod
touch ./boot/grub2/i386-pc/sleep_test.mod
touch ./boot/grub2/i386-pc/smbios.mod
touch ./boot/grub2/i386-pc/spkmodem.mod
touch ./boot/grub2/i386-pc/squash4.mod
touch ./boot/grub2/i386-pc/strtoull_test.mod
touch ./boot/grub2/i386-pc/syslinuxcfg.mod
touch ./boot/grub2/i386-pc/tar.mod
touch ./boot/grub2/i386-pc/terminal.lst
touch ./boot/grub2/i386-pc/terminal.mod
touch ./boot/grub2/i386-pc/terminfo.mod
touch ./boot/grub2/i386-pc/test.mod
touch ./boot/grub2/i386-pc/testload.mod
touch ./boot/grub2/i386-pc/testspeed.mod
touch ./boot/grub2/i386-pc/test_asn1.mod
touch ./boot/grub2/i386-pc/test_blockarg.mod
touch ./boot/grub2/i386-pc/tftp.mod
touch ./boot/grub2/i386-pc/tga.mod
touch ./boot/grub2/i386-pc/time.mod
touch ./boot/grub2/i386-pc/tr.mod
touch ./boot/grub2/i386-pc/trig.mod
touch ./boot/grub2/i386-pc/true.mod
touch ./boot/grub2/i386-pc/truecrypt.mod
touch ./boot/grub2/i386-pc/udf.mod
touch ./boot/grub2/i386-pc/ufs1.mod
touch ./boot/grub2/i386-pc/ufs1_be.mod
touch ./boot/grub2/i386-pc/ufs2.mod
touch ./boot/grub2/i386-pc/uhci.mod
touch ./boot/grub2/i386-pc/usb.mod
touch ./boot/grub2/i386-pc/usbms.mod
touch ./boot/grub2/i386-pc/usbserial_common.mod
touch ./boot/grub2/i386-pc/usbserial_ftdi.mod
touch ./boot/grub2/i386-pc/usbserial_pl2303.mod
touch ./boot/grub2/i386-pc/usbserial_usbdebug.mod
touch ./boot/grub2/i386-pc/usbtest.mod
touch ./boot/grub2/i386-pc/usb_keyboard.mod
touch ./boot/grub2/i386-pc/vbe.mod
touch ./boot/grub2/i386-pc/version.mod
touch ./boot/grub2/i386-pc/vga.mod
touch ./boot/grub2/i386-pc/vga_text.mod
touch ./boot/grub2/i386-pc/video.lst
touch ./boot/grub2/i386-pc/video.mod
touch ./boot/grub2/i386-pc/videoinfo.mod
touch ./boot/grub2/i386-pc/videotest.mod
touch ./boot/grub2/i386-pc/videotest_checksum.mod
touch ./boot/grub2/i386-pc/video_bochs.mod
touch ./boot/grub2/i386-pc/video_cirrus.mod
touch ./boot/grub2/i386-pc/video_colors.mod
touch ./boot/grub2/i386-pc/video_fb.mod
touch ./boot/grub2/i386-pc/wrmsr.mod
touch ./boot/grub2/i386-pc/xfs.mod
touch ./boot/grub2/i386-pc/xnu.mod
touch ./boot/grub2/i386-pc/xnu_uuid.mod
touch ./boot/grub2/i386-pc/xnu_uuid_test.mod
touch ./boot/grub2/i386-pc/xzio.mod
touch ./boot/grub2/i386-pc/zfs.mod
touch ./boot/grub2/i386-pc/zfscrypt.mod
touch ./boot/grub2/i386-pc/zfsinfo.mod
touch ./boot/grub2/i386-pc/zstd.mod
touch ./boot/grub2/grub.cfg
touch ./images/pxeboot/initrd.img
touch ./images/pxeboot/vmlinuz
touch ./images/eltorito.img
touch ./images/install.img
touch ./Fedora-Legal-README.txt
touch ./LICENSE
touch ./.discinfo
popd

mkisofs -V Fedora-netboot-fixture -publisher Fedora \
	-volset fedora-volset-id -preparer "$(id -un)" \
	-o fixture-netboot.iso "$TMPD"

pushd "$TMPD"
touch ./liveimg.tar.gz
popd

mkisofs -V Fedora-liveimg-fixture -publisher Fedora \
	-volset fedora-volset-id -preparer "$(id -un)" \
	-o fixture-liveimg.iso "$TMPD"
